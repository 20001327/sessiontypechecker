[{attribute,1,module,seller},
 {function,3,start,0,
  [{clause,3,[],[],
    [{call,3,
      {atom,3,register},
      [{atom,3,seller},
       {call,3,{atom,3,spawn},[{atom,3,seller},{atom,3,init},{nil,3}]}]}]}]},
 {attribute,4,spec,
  {{init,0},
   [{type,4,'fun',
     [{type,4,product,[]},
      {atom,4,
       '#client?title<String>.client!price<Int>.&(client?ok.bank!+price<Int>.<<bank.bank>>.&(bank?ok.client!date<String>.End,bank?ko.client!ko.End),client?ko.End)'}]}]}},
 {function,5,init,0,
  [{clause,5,[],[],
    [{'receive',6,
      [{clause,7,
        [{tuple,7,[{atom,7,client},{atom,7,title},{var,7,'Title'}]}],
        [],
        [{match,8,{var,8,'Price'},{integer,8,50}},
         {op,9,'!',
          {atom,9,client},
          {tuple,9,[{atom,9,seller},{atom,9,price},{var,9,'Price'}]}},
         {'receive',10,
          [{clause,11,
            [{tuple,11,[{atom,11,client},{atom,11,ok}]}],
            [],
            [{op,12,'!',
              {atom,12,bank},
              {tuple,12,[{atom,12,seller},{atom,12,price},{var,12,'Price'}]}},
             {op,13,'!',
              {atom,13,bank},
              {tuple,13,
               [{atom,13,seller},
                {atom,13,start_delegation},
                {atom,13,seller},
                {call,13,{atom,13,self},[]}]}},
             {'receive',14,
              [{clause,15,
                [{tuple,15,[{atom,15,bank},{atom,15,end_delegation}]}],
                [],
                [{'receive',16,
                  [{clause,17,
                    [{tuple,17,[{atom,17,bank},{atom,17,ok}]}],
                    [],
                    [{op,18,'!',
                      {atom,18,client},
                      {tuple,18,
                       [{atom,18,seller},
                        {atom,18,date},
                        {string,18,"22 ottobre 2022"}]}},
                     {atom,19,'End'}]},
                   {clause,20,
                    [{tuple,20,[{atom,20,bank},{atom,20,ko}]}],
                    [],
                    [{op,21,'!',
                      {atom,21,client},
                      {tuple,21,[{atom,21,seller},{atom,21,ko}]}},
                     {atom,22,'End'}]}]}]}]}]},
           {clause,25,
            [{tuple,25,[{atom,25,client},{atom,25,ko}]}],
            [],
            [{atom,26,'End'}]}]}]}]}]}]}]
