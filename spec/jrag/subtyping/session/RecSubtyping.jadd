aspect RecSubtyping{

    public boolean RecType.subtypeOf(Object other){
        if(getType().endsWith(getRecVariable())){
            if(((Session)other).isSubtypeOf(new RecType())){
                RecType oth = (RecType) other;
                return this.getType().subtypeOf(oth.getType());
            }
        }
        return false;
    }

    public boolean RecVar.subtypeOf(Object other){
        return ((Session)other).isSubtypeOf(new RecVar());
    }
}